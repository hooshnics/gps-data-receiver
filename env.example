# Server Configuration
SERVER_PORT=8080
SERVER_HOST=0.0.0.0
REQUEST_TIMEOUT=5s
MAX_REQUEST_SIZE=1048576  # 1MB in bytes

# Destination Servers (comma-separated URLs)
DESTINATION_SERVERS=http://server1.example.com/api/gps,http://server2.example.com/api/gps,http://server3.example.com/api/gps

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_STREAM_NAME=gps:reports
REDIS_CONSUMER_GROUP=gps-workers
REDIS_MAX_LEN=10000  # Max stream length
# Reject new requests when queue depth >= this (0 = use 90% of REDIS_MAX_LEN). Reduces queue growth.
QUEUE_BACKPRESSURE_LIMIT=0

# MySQL Configuration
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=
MYSQL_DATABASE=gps_receiver
MYSQL_MAX_OPEN_CONNS=25
MYSQL_MAX_IDLE_CONNS=10
MYSQL_CONN_MAX_LIFETIME=300s

# Worker Configuration
WORKER_COUNT=50
WORKER_BATCH_SIZE=10

# Retry Configuration (shorter delays in production help avoid queue buildup when destinations are slow)
MAX_RETRY_ATTEMPTS=5
RETRY_DELAY_FIRST=5s
RETRY_DELAY_SUBSEQUENT=10s

# HTTP Client Configuration
HTTP_CLIENT_TIMEOUT=30s
HTTP_CLIENT_MAX_IDLE_CONNS=100
HTTP_CLIENT_MAX_CONNS_PER_HOST=10

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_SECOND=1000
RATE_LIMIT_BURST=2000

# Logging
LOG_LEVEL=info  # debug, info, warn, error
LOG_FORMAT=json  # json or console

# Environment
ENVIRONMENT=development  # development, production

